You are working on an already running application called "Namma Ooru Vandi".

The app currently works, but it contains unnecessary files, unused logic,
and overly strict GPS behavior.

Your task is to CLEAN, SIMPLIFY, and POLISH the app
while keeping ALL CORE FEATURES WORKING.

DO NOT rebuild from scratch.
DO NOT break existing functionality.
Make incremental, safe improvements only.

---------------------------------
PRIMARY OBJECTIVE
---------------------------------
- Make the project lightweight
- Remove unused files, configs, and dead code
- Keep full Passenger + Driver functionality
- Ensure the app works anywhere (demo-safe)
- Preserve ESP integration as an enhancement

---------------------------------
CLEANUP (MANDATORY)
---------------------------------

1. REMOVE UNUSED FILES & LOGIC
- Identify and remove:
  - Unused database configs
  - Unused storage / ORM logic
  - Dead API routes
  - Unused environment variables
- Keep only files required for:
  - Server startup
  - Routing
  - Frontend rendering
  - Realtime updates

2. SIMPLIFY PROJECT STRUCTURE
- Keep structure minimal and readable.
- Remove commented-out or experimental code.
- Ensure no feature depends on removed files.

---------------------------------
LOCATION & GPS (DEMO-SAFE)
---------------------------------

3. LOCATION PERMISSION (REALISM ONLY)
- Ask for location permission in Driver Dashboard.
- Permission is for realism only.
- NEVER block the app if permission is denied.

4. DEMO GPS MODE (DEFAULT)
- Ignore actual device coordinates.
- Use FIXED Trichy-based demo coordinates.
- All buses move only within Trichy routes.
- Label this internally as "Demo GPS Mode".

5. ESP GPS PRIORITY
Location source priority:
1) ESP GPS (if connected)
2) Demo GPS (Trichy)
3) Simulation fallback

If ESP disconnects, auto-switch to Demo GPS without errors.

---------------------------------
TRICHY REGION SETUP
---------------------------------

6. TRICHY ROUTES (FIXED)
- Define routes within Trichy:
  - Central Bus Stand â†’ Thillai Nagar
  - Central Bus Stand â†’ Srirangam
  - Chatram Bus Stand â†’ Woraiyur
- Map must always center on Trichy.
- Routes must be visible during active trips.

---------------------------------
DRIVER DASHBOARD (REALISTIC)
---------------------------------

7. DRIVER CONTROLS
- Driver can:
  - Start / Stop trip
  - Adjust passenger count using slider
- Slider updates:
  - Crowd level (Low / Medium / High)
  - Passenger view instantly
- Slider works even when ESP is active.

8. DRIVER STATUS UI
Replace hard error messages with statuses:
- ðŸŸ¢ Demo GPS Active
- ðŸ”µ ESP GPS Active
- ðŸŸ¡ Using Simulation
- ðŸ”´ Permission Denied (Non-blocking)

---------------------------------
PASSENGER EXPERIENCE
---------------------------------

9. TRIP START BEHAVIOR
- Passenger selects a bus.
- Trip starts immediately.
- Map auto-focuses on selected bus.
- Route path highlights.
- ETA updates dynamically.

10. REALISTIC MOVEMENT
- Smooth interpolation between coordinates.
- No jumping markers.
- Movement updates every second.

---------------------------------
REAL-TIME SYNC
---------------------------------

11. LIVE UPDATES
- Location, passenger count, crowd level
  must update across Passenger & Driver views instantly.
- No page reloads.

---------------------------------
FAIL-SAFE & STABILITY
---------------------------------

12. NEVER BLOCK DEMO
- No hard GPS errors.
- No dependency on real-world location.
- App must work offline (except ESP).
- App must never crash due to missing data.

---------------------------------
QUALITY RULES
---------------------------------

- Keep code clean, short, and readable.
- Add comments explaining Demo GPS logic.
- Avoid over-engineering.
- Remove anything that does not directly support:
  Passenger tracking, Driver control, or ESP demo.

---------------------------------
FINAL GOAL
---------------------------------

The final app should:
- Look and feel like a real bus tracking system
- Work perfectly from any location
- Be lightweight and fast
- Be easy to explain to judges
- Be fully functional without ESP, enhanced with ESP
